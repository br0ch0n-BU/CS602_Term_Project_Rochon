<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BALL*MART</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"
    />
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico" />
    <script
      src="/javascripts/clickActions.js"
      type="text/javascript"
      defer
    ></script>
  </head>
  <body>
    <header>
      <nav
        class="navbar is-info"
        role="navigation"
        aria-label="main navigation"
      >
        <div class="navbar-brand">
          <a class="navbar-item" href="/store">
            <img
              src="/images/ballmart.png"
              width="112"
              height="28"
              alt="BALL*MART"
            />
          </a>

          <a
            role="button"
            id="navburger"
            class="navbar-burger"
            aria-label="menu"
            aria-expanded="false"
            data-target="navbarBasicExample"
          >
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
          </a>
        </div>

        <div id="navbarBasicExample" class="navbar-menu">
          <div class="navbar-start">
            {{#if user}}
              <a class="navbar-item" href="/orders"> Order history </a>
            {{/if}}

            {{#if isAdmin}}
              <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link"> Admin </a>

                <div class="navbar-dropdown">
                  <a class="navbar-item" href="/products"> Manage catalog </a>
                  <a class="navbar-item" href="/manageorders">
                    Manage customer orders
                  </a>
                  <a class="navbar-item" href="/users">
                    Manage customer accounts
                  </a>

                </div>
              </div>
            {{/if}}
          </div>

          <div class="navbar-end">
            <div class="navbar-item">
              <form action="/store" method="get">
                <input
                  class="input"
                  style="width:6em"
                  type="number"
                  name="minPrice"
                  id="minPrice"
                  placeholder="$Min"
                  value="{{query.minPrice}}"
                />
                <input
                  class="input"
                  style="width:6em"
                  type="number"
                  placeholder="$Max"
                  name="maxPrice"
                  id="maxPrice"
                  value="{{query.maxPrice}}"
                />
                <input
                  class="input"
                  style="width:12em"
                  type="text"
                  placeholder="Description"
                  name="desc"
                  id="desc"
                  value="{{query.desc}}"
                />
                <input class="button" type="submit" value="Search" />
                <input
                  class="button"
                  type="button"
                  value="Reset"
                  onclick="cancelGoHome()"
                />
              </form>
            </div>
            {{#if user}}
              <div class="navbar-item">Hi {{user}} !</div>
              <div class="navbar-item">
                <div class="buttons">
                  <a class="button is-danger" href="/logout"> Log out </a>
                </div>
              </div>
            {{else}}
              <div class="navbar-item">
                <div class="buttons">
                  <a class="button is-primary" href="/register">
                    <strong>Sign up</strong>
                  </a>
                  <a class="button is-light" href="/login"> Log in </a>
                </div>
              </div>
            {{/if}}
          </div>
        </div>
      </nav>
    </header>

    <div class="panel-body">
      {{{body}}}
    </div>

  </body>
</html>